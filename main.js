(()=>{"use strict";var e=document.querySelector("#card-template").content,t=function(t,n,o,c){var i=e.querySelector(".places__item").cloneNode(!0),r=i.querySelector(".card__image");return i.querySelector(".card__title").innerText=t.name,r.setAttribute("src",t.link),r.setAttribute("alt",t.name),i.querySelector(".card__delete-button").addEventListener("click",n),r.addEventListener("click",(function(){c(t)})),i.querySelector(".card__like-button").addEventListener("click",o),i},n=function(e){e.target.closest(".card").remove()},o=function(e){e.currentTarget.classList.toggle("card__like-button_is-active")},c=function(e){e.classList.toggle("popup_is-opened")},i=function(e,t,n){c(e),document.addEventListener("keydown",t),e.addEventListener("click",n)},r=function(e){c(e),document.removeEventListener("keydown",u),e.removeEventListener("click",a)},u=function(e){"Escape"===e.key&&r(document.querySelector(".popup_is-opened"))},a=function(e){e.currentTarget===e.target&&r(e.target.closest(".popup_is-opened"))},l=document.querySelector(".popup_type_edit"),p=document.querySelector(".popup_type_new-card"),f=document.querySelector(".profile__edit-button"),d=document.querySelector(".profile__add-button"),s=document.querySelectorAll(".popup__close"),m=document.querySelector(".places__list"),x=document.querySelector('form[name="edit-profile"]'),_=document.querySelector(".profile__title"),y=document.querySelector(".profile__description"),b=document.querySelector('input[name="name"]'),q=document.querySelector('input[name="description"]'),v=document.querySelector('form[name="new-place"]'),w=document.querySelector('input[name="place-name"]'),D=document.querySelector('input[name="link"]'),S=document.querySelectorAll(".popup"),k=document.querySelector(".popup_type_image"),h=k.querySelector(".popup__caption"),g=k.querySelector(".popup__image");!function(e){e.forEach((function(e){e.classList.add("popup_is-animated")}))}(S);var H=function(e){h.textContent=e.name,g.src=e.link,g.alt=e.name,i(k,u,a)};[{name:"Москва",link:"https://images.unsplash.com/photo-1491736525576-4954bf3e3187?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Пермь",link:"https://images.unsplash.com/photo-1690107097989-7129dfbb027e?q=80&w=1830&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Санкт-Петербург",link:"https://images.unsplash.com/photo-1554844344-c34ea04258c4?q=80&w=1854&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Архангельск",link:"https://images.unsplash.com/photo-1638739947654-7758c1b4f790?q=80&w=1975&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Волгоград",link:"https://images.unsplash.com/photo-1626807941007-f47dd379fa91?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Нижний Новгород",link:"https://images.unsplash.com/photo-1666375704352-18561abe7ac2?q=80&w=1935&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}].map((function(e){m.append(t(e,n,o,H))})),f.addEventListener("click",(function(){i(l,u,a),M()})),d.addEventListener("click",(function(){i(p,u,a)})),s.forEach((function(e){e.addEventListener("click",(function(){r(e.closest(".popup_is-opened"))}))}));var M=function(){b.value=_.textContent,q.value=y.textContent};x.addEventListener("submit",(function(e){!function(e){e.preventDefault(),_.textContent=b.value,y.textContent=q.value,r(e.target.closest(".popup_is-opened"))}(e)})),v.addEventListener("submit",(function(e){e.preventDefault();var c={name:w.value,link:D.value};m.prepend(t(c,n,o,H)),r(p),v.reset()}))})();